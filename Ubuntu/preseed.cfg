# Configuración del idioma y la ubicación
d-i debian-installer/language string en
d-i debian-installer/country string US
d-i debian-installer/locale string en_US.UTF-8

# Configuración del teclado
d-i console-setup/ask_detect boolean false
d-i keyboard-configuration/layoutcode string us

# Configuración de la red
d-i netcfg/choose_interface select auto
d-i netcfg/get_hostname string unassigned-hostname
d-i netcfg/get_domain string unassigned-domain
d-i netcfg/wireless_wep string
d-i netcfg/wireless_wpa string

# Configuración del mirror de paquetes
d-i mirror/country string manual
d-i mirror/http/hostname string archive.ubuntu.com
d-i mirror/http/directory string /ubuntu
d-i mirror/http/proxy string

# Configuración de la partición del disco
d-i partman-auto/disk string /dev/sda
d-i partman-auto/method string regular
d-i partman-auto/choose_recipe select atomic
d-i partman-auto/expert_recipe string                         \
    boot-root ::                                            \
        512 512 512 ext4                                \
            $primary{ }                                     \
            method{ format }                                \
            format{ }                                      \
            use_filesystem{ }                              \
            filesystem{ ext4 }                             \
            mountpoint{ /boot }                            \
        .                                               \
        4096 50% 4096 linux-swap                         \
            method{ swap }                                  \
            format{ }                                      \
        .                                               \
        1024 1024 -1 ext4                                 \
            method{ format }                                \
            format{ }                                      \
            use_filesystem{ }                              \
            filesystem{ ext4 }                             \
            mountpoint{ / }                                \
        .

# Configuración de la contraseña de root
d-i passwd/root-login boolean true
d-i passwd/root-password-crypted password <password-hash>

# Configuración del usuario
d-i passwd/make-user boolean true
d-i passwd/user-fullname string Usuario
d-i passwd/username string usuario
d-i passwd/user-password-crypted password <password-hash>

# Configuración de tareas adicionales y paquetes a instalar
tasksel tasksel/first multiselect ubuntu-server
d-i pkgsel/include string openssh-server apache2 php

# Instalación de GRUB en el MBR
d-i grub-installer/only_debian boolean true
d-i grub-installer/with_other_os boolean true
d-i grub-installer/bootdev string /dev/sda
